---
import SectionHeader from "./SectionHeader.astro";

const {
  eyebrow = "Servizi",
  title,
  subtitle,
  services,
} = Astro.props as {
  eyebrow?: string;
  title: string;
  subtitle?: string;
  services: Array<{
    slug: string;
    title: string;
    short: string;
    image: { src: string; alt: string; ratio?: "4/3" | "3/2" | "1/1" };
  }>;
};
---

<section class="section-y surface-section">
  <div class="site-container">
    <SectionHeader eyebrow={eyebrow} title={title} subtitle={subtitle} />

    <div class="mt-8 grid gap-4 md:grid-cols-2 xl:grid-cols-4" data-stagger="services-grid">
      {services.map((service) => (
        <article class="card-base card-hover overflow-hidden" data-stagger-item>
          <img
            src={service.image.src}
            alt={service.image.alt}
            class="card-media"
            style={`aspect-ratio:${service.image.ratio ?? "4/3"};`}
            loading="lazy"
            decoding="async"
          />
          <div class="p-4">
            <h3 class="text-base font-semibold text-slate-900">{service.title}</h3>
            <p class="mt-2 text-sm text-slate-600">{service.short}</p>
            <a href={`/servizi/${service.slug}`} class="mt-3 inline-flex text-sm font-semibold text-slate-900">Scopri di più →</a>
          </div>
        </article>
      ))}
    </div>
  </div>
</section>
